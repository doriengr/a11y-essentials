{{ $disclosure_icon = switch(
        (index == 'critical') => 'impact/critical',
        (index == 'serious') => 'impact/serious',
        (index == 'moderate') => 'impact/moderate',
        (index == 'minor') => 'impact/minor',
        (index == 'wcag2a') => 'conformance/conformance_a',
        (index == 'wcag2aa') => 'conformance/conformance_aa',
        (index == 'wcag2aaa') => 'conformance/conformance_aaa',
        () => 'general/arrow') }}

{{ partial:disclosure/control control_id="{index}" }}
    <div class="flex flex-col gap-y-2 gap-x-4 sm:flex-row sm:items-center">
        <span
            class="shrink-0 size-10 rounded-full flex items-center justify-center
            {{ switch(
                (index == 'critical') => 'bg-purple-200 text-purple',
                (index == 'serious' || index == 'wcag2a') => 'bg-red-200 text-red',
                (index == 'moderate' || index == 'wcag2aa') => 'bg-yellow-200 text-yellow-900',
                () => 'bg-green-200 text-green')
            }}"
        >
            {{ svg src="{{ $disclosure_icon }}" }}
        </span>
        <div>
            <h3 class="font-headline text-green flex flex-wrap gap-x-3 text-xl font-semibold hocus:text-green-800">
                <button
                    @click="toggle()"
                    id="accordion-button-{{ index }}"
                    :aria-expanded="isOpen"
                    aria-controls="accordion-panel-{{ index }}"
                    class="before:cover text-left"
                >
                    {{ trans key="axe.problem_labels.{{ index }}" }}: {{ errors | count }}
                </button>
            </h3>
            <p class="mt-1">
                {{ trans key="axe.problem_descriptions.{{ index }}" }}
            </p>
        </div>
    </div>
{{ /partial:disclosure/control }}
