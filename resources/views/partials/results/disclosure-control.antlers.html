{{ $impact_icon = switch(
        (impact == 'critical') => 'impact/critical',
        (impact == 'serious') => 'impact/serious',
        (impact == 'moderate') => 'impact/moderate',
        () => 'impact/minor') }}

{{ partial:disclosure/control control_id="{impact}" }}
    <div class="flex flex-col gap-y-2 gap-x-4 sm:flex-row sm:items-center">
        <span
            class="shrink-0 size-10 rounded-full flex items-center justify-center
            {{ switch(
                (impact == 'critical') => 'bg-purple-200 text-purple',
                (impact == 'serious') => 'bg-red-200 text-red',
                (impact == 'moderate') => 'bg-yellow-200 text-yellow-900',
                () => 'bg-green-200 text-green')
            }}"
        >
            {{ svg src="{{ $impact_icon }}" class="size-6" }}
        </span>
        <div>
            <h3 class="font-headline text-green flex flex-wrap gap-x-3 text-xl font-semibold hocus:text-green-800">
                <button
                    @click="toggle()"
                    id="accordion-button-{{ impact }}"
                    :aria-expanded="isOpen"
                    aria-controls="accordion-panel-{{ impact }}"
                    class="before:cover text-left"
                >
                    {{ trans key="axe.impact_labels.{{ impact }}" }}: {{ errors | count }}
                </button>
            </h3>
            <p class="mt-1">
                {{ trans key="axe.impact_descriptions.{{ impact }}" }}
            </p>
        </div>
    </div>
{{ /partial:disclosure/control }}
