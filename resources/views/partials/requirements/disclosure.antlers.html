<div
    id="{{ slug }}"
    x-data="accordion({
        csrfToken: '{{ csrf_token }}',
        id: '{{ slug }}',
        isTrackingEnabled: {{ current_user ? 'true' : 'false' }},
        route: '{{ route:progress.store }}',
        entryId: '{{ id }}',
        collection: '{{ collection }}'
    })"
    class="border-green rounded-sm border"
>
    {{ partial:disclosure/control control_id="{requirement:slug}" }}
        <div class="flex flex-col-reverse gap-y-0.5 lg:gap-y-1">
            <h3 class="font-headline text-green hocus:text-green-800 flex flex-wrap gap-x-3 text-xl font-semibold">
                <button
                    @click="toggle()"
                    id="accordion-button-{{ slug }}"
                    :aria-expanded="isOpen"
                    aria-controls="accordion-panel-{{ slug }}"
                    class="before:cover text-left"
                >
                    {{ title }}
                </button>
                {{ if conformance_levels }}
                    <ul class="flex flex-wrap gap-x-2">
                        {{ conformance_levels }}
                            <li class="pill pill-primary">
                                {{ title }}
                            </li>
                        {{ /conformance_levels }}
                    </ul>
                {{ /if }}
            </h3>
            {{ partial:tags/priority }}
        </div>
        {{ if description }}
            <div class="mt-1.5">
                {{ description }}
            </div>
        {{ /if }}
    {{ /partial:disclosure/control }}
    <article id="accordion-panel-{{ slug }}" x-cloak x-show="isOpen" class="flex flex-col gap-y-4 px-4 pb-4 sm:px-6">
        {{ content }}
            {{ partial:if_exists src="sets/content/{type | dashify}" }}
        {{ /content }}
    </article>
</div>
